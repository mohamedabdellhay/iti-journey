{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamedabdellhay/work/iti/ai/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,+KAAO,EAAC,IAAA,sJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamedabdellhay/work/iti/ai/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,gLAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,iLAAI,GAAG;IAE9B,qBACE,mMAAC;QACC,aAAU;QACV,WAAW,IAAA,2HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamedabdellhay/work/iti/ai/components/header.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\"\nimport { ChevronDown, HelpCircle } from \"lucide-react\"\n\nexport function Header() {\n  return (\n    <header className=\"flex items-center justify-between px-4 py-3\">\n      <div className=\"flex items-center gap-2\">\n        <ChatGPTLogo className=\"size-7\" />\n        <button className=\"flex items-center gap-1 text-lg font-medium text-foreground hover:opacity-80\">\n          ChatGPT\n          <ChevronDown className=\"size-4 text-muted-foreground\" />\n        </button>\n      </div>\n\n      <div className=\"flex items-center gap-2\">\n        <Button className=\"rounded-full bg-foreground px-4 text-sm font-medium text-background hover:bg-foreground/90\">\n          Log in\n        </Button>\n        <Button variant=\"outline\" className=\"rounded-full border-border px-4 text-sm font-medium bg-transparent\">\n          Sign up for free\n        </Button>\n        <Button variant=\"ghost\" size=\"icon\" className=\"rounded-full\">\n          <HelpCircle className=\"size-5 text-muted-foreground\" />\n        </Button>\n      </div>\n    </header>\n  )\n}\n\nfunction ChatGPTLogo({ className }: { className?: string }) {\n  return (\n    <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.8956zm16.0993 3.8558L12.6 8.3829l2.02-1.1638a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.4043-.6906zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;;;;AAEO,SAAS;IACd,qBACE,mMAAC;QAAO,WAAU;;0BAChB,mMAAC;gBAAI,WAAU;;kCACb,mMAAC;wBAAY,WAAU;;;;;;kCACvB,mMAAC;wBAAO,WAAU;;4BAA+E;0CAE/F,mMAAC,4OAAW;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAI3B,mMAAC;gBAAI,WAAU;;kCACb,mMAAC,8IAAM;wBAAC,WAAU;kCAA6F;;;;;;kCAG/G,mMAAC,8IAAM;wBAAC,SAAQ;wBAAU,WAAU;kCAAqE;;;;;;kCAGzG,mMAAC,8IAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,WAAU;kCAC5C,cAAA,mMAAC,yOAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKhC;KAxBgB;AA0BhB,SAAS,YAAY,EAAE,SAAS,EAA0B;IACxD,qBACE,mMAAC;QAAI,WAAW;QAAW,SAAQ;QAAY,MAAK;QAAO,OAAM;kBAC/D,cAAA,mMAAC;YACC,GAAE;YACF,MAAK;;;;;;;;;;;AAIb;MATS"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamedabdellhay/work/iti/ai/components/chat-input.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport { Paperclip, Globe, Layers, AudioWaveform } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\n\ninterface ChatInputProps {\n  onSend: (message: string) => void\n  isLoading: boolean\n}\n\nexport function ChatInput({ onSend, isLoading }: ChatInputProps) {\n  const [input, setInput] = useState(\"\")\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\"\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`\n    }\n  }, [input])\n\n  const handleSubmit = () => {\n    if (input.trim() && !isLoading) {\n      onSend(input.trim())\n      setInput(\"\")\n    }\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault()\n      handleSubmit()\n    }\n  }\n\n  return (\n    <div className=\"w-full rounded-3xl border border-border bg-secondary/50 p-3 shadow-sm\">\n      <textarea\n        ref={textareaRef}\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        onKeyDown={handleKeyDown}\n        placeholder=\"Ask anything\"\n        rows={1}\n        className=\"max-h-48 w-full resize-none bg-transparent px-2 py-1 text-foreground placeholder:text-muted-foreground focus:outline-none\"\n        disabled={isLoading}\n      />\n      <div className=\"flex items-center justify-between pt-2\">\n        <div className=\"flex items-center gap-1\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"size-9 rounded-full text-muted-foreground hover:bg-secondary hover:text-foreground\"\n          >\n            <Paperclip className=\"size-5\" />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"size-9 rounded-full text-muted-foreground hover:bg-secondary hover:text-foreground\"\n          >\n            <Globe className=\"size-5\" />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"size-9 rounded-full text-muted-foreground hover:bg-secondary hover:text-foreground\"\n          >\n            <Layers className=\"size-5\" />\n          </Button>\n        </div>\n\n        <Button\n          onClick={handleSubmit}\n          disabled={!input.trim() || isLoading}\n          className=\"flex items-center gap-2 rounded-full bg-secondary px-4 py-2 text-sm font-medium text-foreground hover:bg-secondary/80 disabled:opacity-50\"\n        >\n          <AudioWaveform className=\"size-4\" />\n          Voice\n        </Button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AAAA;AAAA;AAAA;AACA;;;AANA;;;;AAaO,SAAS,UAAU,EAAE,MAAM,EAAE,SAAS,EAAkB;;IAC7D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+KAAQ,EAAC;IACnC,MAAM,cAAc,IAAA,6KAAM,EAAsB;IAEhD,IAAA,gLAAS;+BAAC;YACR,IAAI,YAAY,OAAO,EAAE;gBACvB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;gBACnC,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,YAAY,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;YAC5E;QACF;8BAAG;QAAC;KAAM;IAEV,MAAM,eAAe;QACnB,IAAI,MAAM,IAAI,MAAM,CAAC,WAAW;YAC9B,OAAO,MAAM,IAAI;YACjB,SAAS;QACX;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,qBACE,mMAAC;QAAI,WAAU;;0BACb,mMAAC;gBACC,KAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAW;gBACX,aAAY;gBACZ,MAAM;gBACN,WAAU;gBACV,UAAU;;;;;;0BAEZ,mMAAC;gBAAI,WAAU;;kCACb,mMAAC;wBAAI,WAAU;;0CACb,mMAAC,8IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;0CAEV,cAAA,mMAAC,kOAAS;oCAAC,WAAU;;;;;;;;;;;0CAEvB,mMAAC,8IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;0CAEV,cAAA,mMAAC,sNAAK;oCAAC,WAAU;;;;;;;;;;;0CAEnB,mMAAC,8IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;0CAEV,cAAA,mMAAC,yNAAM;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAItB,mMAAC,8IAAM;wBACL,SAAS;wBACT,UAAU,CAAC,MAAM,IAAI,MAAM;wBAC3B,WAAU;;0CAEV,mMAAC,kPAAa;gCAAC,WAAU;;;;;;4BAAW;;;;;;;;;;;;;;;;;;;AAM9C;GAzEgB;KAAA"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamedabdellhay/work/iti/ai/components/chat-messages.tsx"],"sourcesContent":["import type { Message } from \"./chat-interface\"\nimport { cn } from \"@/lib/utils\"\n\ninterface ChatMessagesProps {\n  messages: Message[]\n  isLoading: boolean\n}\n\nexport function ChatMessages({ messages, isLoading }: ChatMessagesProps) {\n  return (\n    <div className=\"flex-1 space-y-6 overflow-y-auto py-8\">\n      {messages.map((message) => (\n        <div key={message.id} className={cn(\"flex gap-4\", message.role === \"user\" ? \"justify-end\" : \"justify-start\")}>\n          {message.role === \"assistant\" && (\n            <div className=\"flex size-8 shrink-0 items-center justify-center rounded-full bg-foreground\">\n              <ChatGPTIcon className=\"size-5 text-background\" />\n            </div>\n          )}\n          <div\n            className={cn(\n              \"max-w-[80%] rounded-2xl px-4 py-3\",\n              message.role === \"user\" ? \"bg-secondary text-foreground\" : \"bg-transparent text-foreground\",\n            )}\n          >\n            <p className=\"whitespace-pre-wrap leading-relaxed\">{message.content}</p>\n          </div>\n        </div>\n      ))}\n      {isLoading && (\n        <div className=\"flex gap-4\">\n          <div className=\"flex size-8 shrink-0 items-center justify-center rounded-full bg-foreground\">\n            <ChatGPTIcon className=\"size-5 text-background\" />\n          </div>\n          <div className=\"flex items-center gap-1 py-3\">\n            <span className=\"size-2 animate-bounce rounded-full bg-muted-foreground [animation-delay:-0.3s]\" />\n            <span className=\"size-2 animate-bounce rounded-full bg-muted-foreground [animation-delay:-0.15s]\" />\n            <span className=\"size-2 animate-bounce rounded-full bg-muted-foreground\" />\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction ChatGPTIcon({ className }: { className?: string }) {\n  return (\n    <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.8956zm16.0993 3.8558L12.6 8.3829l2.02-1.1638a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.4043-.6906zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAOO,SAAS,aAAa,EAAE,QAAQ,EAAE,SAAS,EAAqB;IACrE,qBACE,mMAAC;QAAI,WAAU;;YACZ,SAAS,GAAG,CAAC,CAAC,wBACb,mMAAC;oBAAqB,WAAW,IAAA,2HAAE,EAAC,cAAc,QAAQ,IAAI,KAAK,SAAS,gBAAgB;;wBACzF,QAAQ,IAAI,KAAK,6BAChB,mMAAC;4BAAI,WAAU;sCACb,cAAA,mMAAC;gCAAY,WAAU;;;;;;;;;;;sCAG3B,mMAAC;4BACC,WAAW,IAAA,2HAAE,EACX,qCACA,QAAQ,IAAI,KAAK,SAAS,iCAAiC;sCAG7D,cAAA,mMAAC;gCAAE,WAAU;0CAAuC,QAAQ,OAAO;;;;;;;;;;;;mBAZ7D,QAAQ,EAAE;;;;;YAgBrB,2BACC,mMAAC;gBAAI,WAAU;;kCACb,mMAAC;wBAAI,WAAU;kCACb,cAAA,mMAAC;4BAAY,WAAU;;;;;;;;;;;kCAEzB,mMAAC;wBAAI,WAAU;;0CACb,mMAAC;gCAAK,WAAU;;;;;;0CAChB,mMAAC;gCAAK,WAAU;;;;;;0CAChB,mMAAC;gCAAK,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAM5B;KAlCgB;AAoChB,SAAS,YAAY,EAAE,SAAS,EAA0B;IACxD,qBACE,mMAAC;QAAI,WAAW;QAAW,SAAQ;QAAY,MAAK;QAAO,OAAM;kBAC/D,cAAA,mMAAC;YACC,GAAE;YACF,MAAK;;;;;;;;;;;AAIb;MATS"}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///home/mohamedabdellhay/work/iti/ai/components/chat-interface.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRef, useEffect, useState } from \"react\"\n\nimport { Header } from \"./header\"\nimport { ChatInput } from \"./chat-input\"\nimport { ChatMessages } from \"./chat-messages\"\n\nexport interface Message {\n  id: string\n  role: \"user\" | \"assistant\"\n  content: string\n}\n\nexport function ChatInterface() {\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const [messages, setMessages] = useState<Message[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n\n  const handleSendMessage = async (content: string) => {\n    if (!content || content.trim() === \"\") return\n    \n    const userMessage: Message = {\n      id: crypto.randomUUID(),\n      role: \"user\",\n      content: content.trim(),\n    }\n    \n    setMessages(prev => [...prev, userMessage])\n    setIsLoading(true)\n\n    try {\n      const response = await fetch(\"/api/chat\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          messages: [\n            ...messages.map(m => ({\n              role: m.role,\n              parts: [{ type: \"text\", text: m.content }]\n            })),\n            {\n              role: \"user\",\n              parts: [{ type: \"text\", text: content.trim() }]\n            }\n          ]\n        }),\n      })\n\n      if (!response.ok) {\n        throw new Error(\"Failed to send message\")\n      }\n\n      const data = await response.json()\n      \n      // تحويل الرد من API format إلى Message format\n      const allMessages: Message[] = data.map((msg: any) => ({\n        id: msg.id,\n        role: msg.role,\n        content: msg.parts.map((p: any) => p.text).join(\"\"),\n      }))\n\n      setMessages(allMessages)\n    } catch (error) {\n      console.error(\"Error sending message:\", error)\n      \n      // إضافة رسالة خطأ\n      setMessages(prev => [\n        ...prev,\n        {\n          id: crypto.randomUUID(),\n          role: \"assistant\",\n          content: \"Sorry, I encountered an error. Please try again.\",\n        },\n      ])\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const hasMessages = messages.length > 0\n\n  // Scroll to bottom when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n  }, [messages])\n\n  return (\n    <div className=\"flex min-h-screen flex-col bg-background\">\n      <Header />\n\n      <main className=\"flex flex-1 flex-col items-center justify-center px-4\">\n        {!hasMessages ? (\n          <div className=\"flex w-full max-w-3xl flex-col items-center gap-8\">\n            <h1 className=\"text-3xl font-semibold text-foreground\">\n              What can I help with?\n            </h1>\n            <ChatInput onSend={handleSendMessage} isLoading={isLoading} />\n          </div>\n        ) : (\n          <div className=\"flex w-full max-w-3xl flex-1 flex-col\">\n            <ChatMessages messages={messages} isLoading={isLoading} />\n            <div className=\"sticky bottom-0 bg-background pb-6 pt-4\">\n              <ChatInput onSend={handleSendMessage} isLoading={isLoading} />\n            </div>\n            <div ref={messagesEndRef} />\n          </div>\n        )}\n      </main>\n\n      {!hasMessages && (\n        <footer className=\"py-4 text-center text-sm text-muted-foreground\">\n          By messaging ChatGPT, you agree to our{\" \"}\n          <a href=\"#\" className=\"underline hover:text-foreground\">\n            Terms\n          </a>{\" \"}\n          and have read our{\" \"}\n          <a href=\"#\" className=\"underline hover:text-foreground\">\n            Privacy Policy\n          </a>\n          .\n        </footer>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;;;AANA;;;;;AAcO,SAAS;;IACd,MAAM,iBAAiB,IAAA,6KAAM,EAAiB;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+KAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+KAAQ,EAAC;IAE3C,MAAM,oBAAoB,OAAO;QAC/B,IAAI,CAAC,WAAW,QAAQ,IAAI,OAAO,IAAI;QAEvC,MAAM,cAAuB;YAC3B,IAAI,OAAO,UAAU;YACrB,MAAM;YACN,SAAS,QAAQ,IAAI;QACvB;QAEA,YAAY,CAAA,OAAQ;mBAAI;gBAAM;aAAY;QAC1C,aAAa;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;2BACL,SAAS,GAAG,CAAC,CAAA,IAAK,CAAC;gCACpB,MAAM,EAAE,IAAI;gCACZ,OAAO;oCAAC;wCAAE,MAAM;wCAAQ,MAAM,EAAE,OAAO;oCAAC;iCAAE;4BAC5C,CAAC;wBACD;4BACE,MAAM;4BACN,OAAO;gCAAC;oCAAE,MAAM;oCAAQ,MAAM,QAAQ,IAAI;gCAAG;6BAAE;wBACjD;qBACD;gBACH;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,8CAA8C;YAC9C,MAAM,cAAyB,KAAK,GAAG,CAAC,CAAC,MAAa,CAAC;oBACrD,IAAI,IAAI,EAAE;oBACV,MAAM,IAAI,IAAI;oBACd,SAAS,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,IAAW,EAAE,IAAI,EAAE,IAAI,CAAC;gBAClD,CAAC;YAED,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YAExC,kBAAkB;YAClB,YAAY,CAAA,OAAQ;uBACf;oBACH;wBACE,IAAI,OAAO,UAAU;wBACrB,MAAM;wBACN,SAAS;oBACX;iBACD;QACH,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,cAAc,SAAS,MAAM,GAAG;IAEtC,4CAA4C;IAC5C,IAAA,gLAAS;mCAAC;YACR,eAAe,OAAO,EAAE,eAAe;gBAAE,UAAU;YAAS;QAC9D;kCAAG;QAAC;KAAS;IAEb,qBACE,mMAAC;QAAI,WAAU;;0BACb,mMAAC,wIAAM;;;;;0BAEP,mMAAC;gBAAK,WAAU;0BACb,CAAC,4BACA,mMAAC;oBAAI,WAAU;;sCACb,mMAAC;4BAAG,WAAU;sCAAyC;;;;;;sCAGvD,mMAAC,kJAAS;4BAAC,QAAQ;4BAAmB,WAAW;;;;;;;;;;;yCAGnD,mMAAC;oBAAI,WAAU;;sCACb,mMAAC,wJAAY;4BAAC,UAAU;4BAAU,WAAW;;;;;;sCAC7C,mMAAC;4BAAI,WAAU;sCACb,cAAA,mMAAC,kJAAS;gCAAC,QAAQ;gCAAmB,WAAW;;;;;;;;;;;sCAEnD,mMAAC;4BAAI,KAAK;;;;;;;;;;;;;;;;;YAKf,CAAC,6BACA,mMAAC;gBAAO,WAAU;;oBAAiD;oBAC1B;kCACvC,mMAAC;wBAAE,MAAK;wBAAI,WAAU;kCAAkC;;;;;;oBAEnD;oBAAI;oBACS;kCAClB,mMAAC;wBAAE,MAAK;wBAAI,WAAU;kCAAkC;;;;;;oBAEpD;;;;;;;;;;;;;AAMd;GA/GgB;KAAA"}}]
}